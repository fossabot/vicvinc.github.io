<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>leetcode-partition-equal-subset-sum | vicvinc&#39;s notes.</title>
    <meta name="description" content="sunshine water air and something else.">
    
    
    <link rel="preload" href="/dist/assets/css/styles.3f412723.css" as="style"><link rel="preload" href="/dist/assets/js/app.3f412723.js" as="script"><link rel="preload" href="/dist/assets/js/10.3ef67b6e.js" as="script"><link rel="prefetch" href="/dist/assets/js/1.dd00b813.js"><link rel="prefetch" href="/dist/assets/js/11.6d717783.js"><link rel="prefetch" href="/dist/assets/js/2.becbb4cc.js"><link rel="prefetch" href="/dist/assets/js/3.f08eecc2.js"><link rel="prefetch" href="/dist/assets/js/4.6bae0480.js"><link rel="prefetch" href="/dist/assets/js/5.2be886d9.js"><link rel="prefetch" href="/dist/assets/js/6.693a17c7.js"><link rel="prefetch" href="/dist/assets/js/7.2a6f8a7a.js"><link rel="prefetch" href="/dist/assets/js/8.515adf82.js"><link rel="prefetch" href="/dist/assets/js/9.ef3af433.js">
    <link rel="stylesheet" href="/dist/assets/css/styles.3f412723.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/dist/" class="home-link router-link-active"><!----><span class="site-name">
      vicvinc's notes.
    </span></a><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><!----></div></header><div class="sidebar-mask"></div><div class="sidebar"><!----><!----></div><div class="page"><div class="content"><p><code>Given a non-empty array containing only positive integers, find if the array can be partitioned into two subsets such that the sum of elements in both subsets is equal.</code></p><p>找出一个数组中的和相等两个子数组</p><p>首先一个数组可以考虑为一个一维向量，其中两个子向量的和相等</p><p>记一维向量的和为 S0，子向量 1 的和为 S1，子向量 2 的和为 S2</p><p>从题目要求中可以看到</p><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token constant">S1</span> <span class="token operator">===</span> <span class="token constant">S2</span> <span class="token operator">&amp;&amp;</span> <span class="token constant">S1</span> <span class="token operator">+</span> <span class="token constant">S2</span> <span class="token operator">===</span> <span class="token constant">S0</span><span class="token punctuation">;</span>
<span class="token comment">// 从而</span>
<span class="token punctuation">(</span><span class="token constant">S1</span> <span class="token operator">===</span> <span class="token constant">S2</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token constant">S0</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token comment">// 又因为输入都是正整数，所以可以判断出如果满足上述条件的一维向量和一定是偶数，即</span>
<span class="token constant">S0</span> <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">;</span>
</code></pre></div><p>那么解题的思路可以考虑为,从一个数组中选取一个子数组，子数组的和等于该数组和的一半</p><p>再次整理问题就可以发现，这是一个从一个集合中选取一个子集，使其和等于一个常数的问题，这个问题也可以变化成求有多少个解的问题（八皇后，骑士环游世界，背包问题，等等）</p><p>如果再深挖一点，就可以知道这是一个 NP-C 问题，来一段看不懂的数学定义：</p><p>那么问题来了，什么是 P 问题，什么是 NP 问题，什么是 NPC 问题，什么是 NPC-Hard 问题？</p><p>NP 完全或 NP 完备（NP-Complete，缩写为 NP-C 或 NPC），是计算复杂度理论中，决定性问题的档次之一。
NPC 问题，是 NP（非决定性多项式时间）中最难的决定性问题。
因此 NP 完备问题应该是最不可能被化简为 P（多项式时间可决定）的决定性问题的集合。
若任何 NPC 问题得到多项式时间的解法，那此解法就可应用在所有 NP 问题上。
一个 NPC 问题的例子是子集合加总问题，题目为给予一个有限数量的整数集合，找出任何一个此集合的非空子集且此子集内整数和为零。
这个问题的答案非常容易验证，但目前没有任何一个够快的方法可以在合理的时间内（意即多项式时间）找到答案。只能一个个将它的子集取出来一一测试，
它的时间复杂度是 Ο(2n)，n 是此集合的元素数量。</p><p>数学渣表示看不懂。</p><p>但是通常这类问题都有两个思路，一个是迭代，一个是递归，首先来说说迭代的思路。</p><p>迭代，就是从最基础的解开始，一步一步向目标累计，
比如，求一个数组的子数组，使其和等于 0，通常可以认为空数组的和为 0，所以得解，然后
求一个数组的子数组，使其和等于 1，再然后
求一个数组的子数组，使其和等于 2...
求一个数组的子数组，使其和等于 n</p><p>这里可以看到如果对于一个子数组，其和若能能满足 m，则这个子数组的所有子数组都可以满足 m，迭代的复杂度相对于数组的长度 l 和所求值的大小 n
时间复杂度为 l*n</p><p>递归，就是从结果开始，将求解的范围一步一步缩减为求更小范围内的解，
比如，求数组 A 的子数组，使其和等于 N，可以分解为求 A 的子数组 A1，使其和等于 N 减去 A1 相对于 A 的补集 A1’的和 N1
求数组 A1 的子数组，使其和等于 N1，可以进一步分解为求 A1 的子数组 B1，使其和等于 N1 减去 B1 相对于 A1 的补集 B1‘的和 N1’...
递归比较绕，我的想法就是基于递归做的，递归的算法复杂度过高，从算法中可以看出是一个 n！的复杂度,因此提交失败，但是对于小规模的问题，仍然是可以求出解的
在时间超时这个问题上，想了去怎么优化的问题，现在的感觉就是，递归的优化问题，首先考虑迭代！</p><p>代码时间：
递归版本（我的版本）
<code>超时，小规模可解</code></p><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> <span class="token function-variable function">sum</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> nums<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>acc<span class="token punctuation">,</span> cur<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    acc <span class="token operator">+=</span> cur<span class="token punctuation">;</span>
    <span class="token keyword">return</span> acc<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// a = &gt; collection</span>
<span class="token comment">// b =&gt; index array</span>
<span class="token keyword">var</span> <span class="token function-variable function">diff</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> a<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>acc<span class="token punctuation">,</span> cur<span class="token punctuation">,</span> cur_index<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>b<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>cur_index<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      acc<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>cur<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> acc<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> <span class="token function-variable function">canPick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// console.log('===a, n====', a, n)</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// fail</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// succ</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">var</span> index_arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> rt <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> temp_n <span class="token operator">=</span> n<span class="token punctuation">;</span>

  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> ii <span class="token operator">=</span> a<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> ii<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    rt<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    temp_n <span class="token operator">-=</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    index_arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">canPick</span><span class="token punctuation">(</span><span class="token function">diff</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> index_arr<span class="token punctuation">)</span><span class="token punctuation">,</span> temp_n<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      rt<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      index_arr<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      temp_n <span class="token operator">+=</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token function">sum</span><span class="token punctuation">(</span>rt<span class="token punctuation">)</span> <span class="token operator">===</span> n<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> <span class="token function-variable function">canPartition</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> <span class="token constant">S</span> <span class="token operator">=</span> <span class="token function">sum</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">S</span> <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">!==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token function">canPick</span><span class="token punctuation">(</span>nums<span class="token punctuation">,</span> <span class="token constant">S</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>迭代版本（大神的版本）：
<code>尽力理解</code></p><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> <span class="token function-variable function">canPartition</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> len <span class="token operator">=</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
  <span class="token keyword">var</span> <span class="token constant">S</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> n <span class="token keyword">of</span> nums<span class="token punctuation">)</span> <span class="token constant">S</span> <span class="token operator">+=</span> n<span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">S</span> <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">!==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

  <span class="token constant">S</span> <span class="token operator">/=</span> <span class="token number">2</span><span class="token punctuation">;</span>

  <span class="token keyword">var</span> map <span class="token operator">=</span> <span class="token punctuation">[</span>len<span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    map<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token constant">S</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    map<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">//不是很理解为什么小于也可以为true</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&lt;=</span> <span class="token constant">S</span><span class="token punctuation">)</span> map<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span>nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> num <span class="token operator">=</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// 注意这里一定要取到S，不然就变为求S-1的解了</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> <span class="token constant">S</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>num <span class="token operator">&gt;</span> j<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 变相理解为 j - num &lt; 0,此时的num不应该包含在解的空间中</span>
        map<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> map<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// 此时可以归为（1-i）的子数组的解</span>
        map<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> map<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">|</span> map<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">-</span> num<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token operator">!</span>map<span class="token punctuation">[</span>len <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token constant">S</span><span class="token punctuation">]</span> <span class="token operator">?</span> <span class="token boolean">false</span> <span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="总结一下："><a href="#总结一下：" aria-hidden="true" class="header-anchor">#</a> 总结一下：</h2><p>首先，比较喜欢递归，但是递归的难度在于边界条件，第一次考虑的时候虽然想清楚了递归的条件，但是对于继续进行递归的时候的再次调用，又感觉到非常的难想明白，总之递归是一种思维上比较难的东西对我来说。想到递归就想起了归并排序，还有各种斐波那契数列求解问题，感觉递归中不要出现循环或者栈操作，不然时间复杂度直接飙升。</p><p>其次就是对于数组的操作问题，像数组的求交差并补这种基础操作，也需要都实践一下，虽然现在有 lodash 等库可以轻松搞定，但是中间操作的问题一定要多熟悉熟悉。</p><p>最后就是语法的升级问题，写 ES6 写了一些了，但是感觉仍然有很多小细节需要学习，比如 ES67 下的二维数组申明就没有这么麻烦，看大神的代码有几点地方还是不够明白，需要再请教一下，不过好处就是，经过思考之后，再看大神的代码，能一次把代码都写出来不卡壳，虽然漏了一个很关键的等于 😦</p><p>需要实践的地方：</p><ol><li>数组之间的交差并补运算</li><li>ES6 的数组操作</li></ol><p>需要增强的理论：</p><ol><li>什么是 P 问题，什么是 NP 问题，什么是 NP 完备（NPC），什么是 NP-Hard（数学白学系列…离散和高数）</li><li>图论和树理论中是否有可以用来解这个问题的理论？</li><li>时间复杂度的计算（又白学系列…）</li></ol></div><div class="page-edit"><!----><!----></div><!----></div></div></div>
    <script src="/dist/assets/js/10.3ef67b6e.js" defer></script><script src="/dist/assets/js/app.3f412723.js" defer></script>
  </body>
</html>
